{{#
    @name Contact Form Block
    @description Page builder block for contact form with information
#}}

<!-- Contact Form Section -->
<section class="py-16 lg:py-24">
    <div class="container">
        {{ if title }}
            <h2 class="mb-12 text-4xl font-semibold tracking-tight text-pretty text-gray-950 sm:text-5xl">
                {{ title }}
            </h2>
        {{ /if }}
        <div class="grid grid-cols-1 gap-12 lg:grid-cols-2">
            {{# Contact Information #}}
            <div>
                <h3 class="mb-8 text-2xl font-bold text-gray-950">{{ contact_info_title ?? 'Visit Us' }}</h3>
                {{ partial:components/contact_info :show_contact_info="show_contact_info" }}
            </div>

            {{# Contact Form #}}
            <div>
                {{ if contact_form_title }}
                    <h3 class="mb-8 text-2xl font-bold text-gray-950">{{ contact_form_title }}</h3>
                {{ /if }}
                {{ selected_form }}
                    {{ form:create in="{ handle }" }}
                        {{ if success }}
                            {{ partial:components/form_alert type="success" title="Thank you for your message! We'll get back to you soon." }}
                        {{ /if }}
                        {{ if errors }}
                            {{ partial:components/form_alert type="error" title="Please correct the following errors:" :errors="errors" }}
                        {{ /if }}

                        <div class="space-y-6">
                            {{ fields }}
                                {{ if type == "text" && input_type == "email" }}
                                    {{ partial:components/form_input type="email" :id="handle" :name="handle" :label="display" :required="required" :value="old:{handle}" }}
                                {{ elseif type == "text" && input_type == "tel" }}
                                    {{ partial:components/form_input type="tel" :id="handle" :name="handle" :label="display" :required="required" :value="old:{handle}" }}
                                {{ elseif type == "text" }}
                                    {{ partial:components/form_input type="text" :id="handle" :name="handle" :label="display" :required="required" :value="old:{handle}" }}
                                {{ elseif type == "date" }}
                                    {{ partial:components/form_input type="date" :id="handle" :name="handle" :label="display" :required="required" :value="old:{handle}" }}
                                {{ elseif type == "time" }}
                                    {{ partial:components/form_input type="time" :id="handle" :name="handle" :label="display" :required="required" :value="old:{handle}" }}
                                {{ elseif type == "select" }}
                                    {{ partial:components/form_select
                                        :id="handle"
                                        :name="handle"
                                        :label="display"
                                        :required="required"
                                        :value="old:{handle}"
                                        :options="options"
                                    }}
                                {{ elseif type == "textarea" }}
                                    {{ partial:components/form_textarea :id="handle" :name="handle" :label="display" :required="required" :value="old:{handle}" rows="6" }}
                                {{ /if }}
                            {{ /fields }}
                        </div>

                        <div class="mt-8">
                            {{ partial:components/button text="Send Message" type="submit" size="lg" icon="true" class="transition-transform duration-200 will-change-transform hover:scale-[97%]" }}
                        </div>
                    {{ /form:create }}
                {{ /selected_form }}
            </div>
        </div>
    </div>
</section>